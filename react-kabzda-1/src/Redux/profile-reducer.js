import {profileApi} from "../api/api";

const ADD_POST = 'ADD_POST';
const SET_USER_PROFILE = 'SET_USER_PROFILE';
const SET_STATUS = 'SET_STATUS';
const SET_PHOTO = 'SET_PHOTO';

let initialState = {
  posts: [
    {
      id: 1,
      message: 'Hello',
      ava: 'data:image/png;base64,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'
    }
  ],
  profile: null,
  status: '',
  image: ''
};

const profileReducer = (state = initialState, action) => {
  switch (action.type) {
    case ADD_POST:
      let newPost = {
        id: 1,
        message: action.postText,
        ava: 'data:image/jpeg;base64,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'
      }
      return {
        ...state,
        posts: [...state.posts, newPost]
      }

    case SET_USER_PROFILE:
      return {
        ...state,
        profile: action.profile
      }
    case SET_STATUS:
      return {
        ...state,
        status: action.status
      }
    case SET_PHOTO:
      return {
        ...state,
        image: action.image
      }
    default:
      return state;
  }
}

export const addPost = (postText) => ({type: ADD_POST, postText});
export const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});
export const setStatus = (status) => ({type: SET_STATUS, status});
export const setPhoto = (image) => ({type: SET_PHOTO, image});

export const getProfile = (userId) => {
  return (dispatch) => {
    profileApi.getProfile(userId)
      .then(data => {
        dispatch(setUserProfile(data));
      })
  }
}

export const getStatus = (userId) => {
  return (dispatch) => {
    profileApi.getStatus(userId)
      .then(data => {
        dispatch(setStatus(data));
      })
  }
}

export const updateStatus = (status) => {
  return (dispatch) => {
    profileApi.updateStatus(status)
      .then(data => {
        if (data.resultCode === 0) {
          dispatch(setStatus(status));
        }
      })
  }
}

export const updatePhoto = (image, userId) => {
  return (dispatch) => {
    profileApi.getProfile(userId)
      .then((data) => {
        let image = data.photos.small;
        profileApi.updatePhoto(image, userId)
          .then(data => {
            if (data.resultCode === 0) {
              dispatch(setPhoto(image));
            }
          })
      })
  }
}

export default profileReducer;